(self.webpackChunkcontacts_manager=self.webpackChunkcontacts_manager||[]).push([[834],{7834:(r,t,e)=>{"use strict";e.r(t),e.d(t,{ContactsModule:()=>Yr});var o=e(1116),a=e(3337),n=e(2935),i=e(1041),s=e(6431),d=e(5366),c=e(3589),l=e(7371),m=e(2309),u=e(3070),g=e(9550),p=e(7307),f=e(4369),h=e(2797);const Z=["gridList"],x=["img"];function C(r,t){if(1&r&&(d.TgZ(0,"div"),d._UZ(1,"img",24,25),d.qZA()),2&r){const r=d.oxw(2);d.xp6(1),d.Udp("width",255,"px"),d.Q6J("src",r.choosenImage,d.LSH)}}function N(r,t){if(1&r&&(d.TgZ(0,"mat-grid-tile",23),d.YNc(1,C,3,3,"div",8),d.qZA()),2&r){const r=d.oxw();d.Q6J("colspan",r.breakpoint)("rowspan",3),d.xp6(1),d.Q6J("ngIf",r.choosenImage)}}function q(r,t){1&r&&(d.TgZ(0,"mat-error"),d._uU(1,"Enter first name"),d.qZA())}function A(r,t){1&r&&(d.TgZ(0,"mat-error"),d._uU(1,"Enter your last name!"),d.qZA())}function v(r,t){1&r&&(d.TgZ(0,"mat-error"),d._uU(1,"Enter your address!"),d.qZA())}function T(r,t){1&r&&(d.TgZ(0,"mat-error"),d._uU(1,"Enter your area code!"),d.qZA())}function U(r,t){1&r&&(d.TgZ(0,"mat-error"),d._uU(1,"The max no. of area code is 5 !"),d.qZA())}function I(r,t){if(1&r&&(d.TgZ(0,"mat-error"),d._uU(1),d.qZA()),2&r){const r=d.oxw();d.xp6(1),d.Oqu(r.areaCodeServerError)}}function _(r,t){1&r&&(d.TgZ(0,"mat-error"),d._uU(1,"Enter your prefix code!"),d.qZA())}function E(r,t){1&r&&(d.TgZ(0,"mat-error"),d._uU(1,"The max no. of prefix code is 3 !"),d.qZA())}function b(r,t){if(1&r&&(d.TgZ(0,"mat-error"),d._uU(1),d.qZA()),2&r){const r=d.oxw();d.xp6(1),d.Oqu(r.prefixCodeServerError)}}function w(r,t){1&r&&(d.TgZ(0,"mat-error"),d._uU(1,"Enter your Line Number code!"),d.qZA())}function S(r,t){1&r&&(d.TgZ(0,"mat-error"),d._uU(1,"The max no. of Line Number code is 4 !"),d.qZA())}function J(r,t){if(1&r&&(d.TgZ(0,"mat-error"),d._uU(1),d.qZA()),2&r){const r=d.oxw();d.xp6(1),d.Oqu(r.landLineCodeServerError)}}function F(r,t){1&r&&(d.TgZ(0,"mat-error"),d._uU(1,"Image is required!"),d.qZA())}function Y(r,t){1&r&&(d.TgZ(0,"mat-error"),d._uU(1,"Photo should not 300 KB!"),d.qZA())}function Q(r,t){1&r&&(d.TgZ(0,"mat-error"),d._uU(1,"Photo should be in jpeg, jpg or png format!"),d.qZA())}let k=(()=>{class r{constructor(r,t,e,o,a){this.fb=r,this.AddDialogRef=t,this._EditedContactsnackBar=o,this.api=a,this.imageBase64={extension:"",data:""},this.choosenImage="",this.loading=!1,this.firstnameServerError="",this.lastnameServerError="",this.addressServerError="",this.areaCodeServerError="",this.prefixCodeServerError="",this.landLineCodeServerError="",this.photoServerError="",this.contact=e}ngOnInit(){this.addContactForm=this.fb.group({firstName:["",i.kI.required],lastName:["",i.kI.required],address:["",i.kI.required],areaCode:["",i.kI.compose([i.kI.maxLength(5),i.kI.required])],prefix:["",i.kI.compose([i.kI.maxLength(3),i.kI.required])],lineNumber:["",i.kI.compose([i.kI.maxLength(4),i.kI.required])],photo:["",[i.kI.required,s.CU.maxContentSize(307200)]]}),this.breakpoint=window.innerWidth<=600?1:2}onResize(r){this.breakpoint=r.target.innerWidth<=600?1:2,this.addressFieldWidth=this.gridList._element.nativeElement.offsetWidth}ngAfterViewInit(){setTimeout(()=>{this.addressFieldWidth=this.gridList._element.nativeElement.offsetWidth},0)}fileChangeEvent(r){if(null!=r){this.imageBase64.extension=r.target.files[0].type.replace(/^.*[\\\/]/,"");var t=r.target.files,e=t[0];if(t&&e){var o=new FileReader;o.onload=this._handleReaderLoaded.bind(this),o.readAsBinaryString(e)}}}_handleReaderLoaded(r){this.imageBase64.data=btoa(r.target.result),this.choosenImage="data:image/jpeg;base64,"+this.imageBase64.data}onSubmit(){this.loading=!0;const r=Object.assign({},this.addContactForm.value);this.api.post("contacts/",{_id:void 0,name:r.name,firstName:r.firstName,lastName:r.lastName,address:r.address,phone:r.phone,areaCode:r.areaCode,prefix:r.prefix,lineNumber:r.lineNumber,photoUrl:this.imageBase64}).subscribe(r=>{var t,e,o,a,n,i,s;401==r.statusCode?(alert(r.error),this.resetAll()):422==r.statusCode?(console.log("from edit-contact-modal.component.js"+JSON.stringify(r.error)),r.error.firstName&&(null===(t=this.addContactForm.get("firstName"))||void 0===t||t.setErrors({[`${r.error.firstName}`]:!0}),this.firstnameServerError=r.error.firstName),r.error.lastName&&(null===(e=this.addContactForm.get("lastName"))||void 0===e||e.setErrors({[`${r.error.lastName}`]:!0}),this.lastnameServerError=r.error.lastName),r.error.address&&(null===(o=this.addContactForm.get("address"))||void 0===o||o.setErrors({[`${r.error.address}`]:!0}),this.addressServerError=r.error.address),r.error.areaCode&&(null===(a=this.addContactForm.get("areaCode"))||void 0===a||a.setErrors({[`${r.error.areaCode}`]:!0}),this.areaCodeServerError=r.error.areaCode),r.error.prefix&&(null===(n=this.addContactForm.get("prefix"))||void 0===n||n.setErrors({[`${r.error.prefix}`]:!0}),this.prefixCodeServerError=r.error.prefix),r.error.lineNumber&&(null===(i=this.addContactForm.get("lineNumber"))||void 0===i||i.setErrors({[`${r.error.lineNumber}`]:!0}),this.landLineCodeServerError=r.error.lineNumber),r.error.photoUrl&&(null===(s=this.addContactForm.get("photo"))||void 0===s||s.setErrors({[`${r.error.photoUrl}`]:!0}),this.photoServerError=r.error.photoUrl),this.photoServerError=r.error.photoUrl,this.addContactForm.markAllAsTouched(),this.loading=!1):(this.loading=!1,this.newContact=r,console.log(this.newContact),this._EditedContactsnackBar.open(`${this.newContact.firstName} ${this.newContact.lastName}`,"Added!",{duration:5e3}),this.api.makeRefresh(),this.AddDialogRef.close())})}resetAll(){this.loading=!1,this.AddDialogRef.close(),this.firstnameServerError="",this.lastnameServerError="",this.addressServerError="",this.areaCodeServerError="",this.prefixCodeServerError="",this.landLineCodeServerError="",this.photoServerError="",this.ngOnInit()}}return r.\u0275fac=function(t){return new(t||r)(d.Y36(i.qu),d.Y36(n.so),d.Y36(n.WI),d.Y36(c.ux),d.Y36(l.s))},r.\u0275cmp=d.Xpm({type:r,selectors:[["app-add-contact-modal"]],viewQuery:function(r,t){if(1&r&&(d.Gf(Z,5),d.Gf(x,5)),2&r){let r;d.iGM(r=d.CRH())&&(t.gridList=r.first),d.iGM(r=d.CRH())&&(t.img=r.first)}},decls:72,vars:33,consts:[[1,"add-title"],["mat-dialog-title",""],["novalidate","",3,"formGroup","ngSubmit"],["rowHeight","85px",3,"cols","resize"],["gridList",""],[3,"colspan","rowspan",4,"ngIf"],["matInput","","placeholder","First Name","type","text","formControlName","firstName"],["firstName",""],[4,"ngIf"],["matInput","","placeholder","Last Name","type","text","formControlName","lastName"],["lastName",""],[3,"colspan"],["matInput","","placeholder","Address","type","text","formControlName","address"],["address",""],["matInput","","formControlName","areaCode","placeholder","#####","required",""],["areaCode",""],["matSuffix",""],["matInput","","formControlName","prefix","placeholder","###","required",""],["prefix",""],["matInput","","formControlName","lineNumber","placeholder","####","required",""],["lineNumber",""],["matInput","","formControlName","photo","placeholder","Image","accept","image/*",3,"change"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[3,"colspan","rowspan"],["mat-card-image","",3,"src"],["img",""]],template:function(r,t){if(1&r&&(d.TgZ(0,"div",0),d.TgZ(1,"h2",1),d._uU(2,"Add New Contact"),d.qZA(),d.qZA(),d.TgZ(3,"mat-dialog-content"),d.TgZ(4,"form",2),d.NdJ("ngSubmit",function(){return t.onSubmit()}),d.TgZ(5,"mat-grid-list",3,4),d.NdJ("resize",function(r){return t.onResize(r)},!1,d.Jf7),d.YNc(7,N,2,3,"mat-grid-tile",5),d.TgZ(8,"mat-grid-tile"),d.TgZ(9,"mat-form-field"),d._UZ(10,"input",6,7),d.YNc(12,q,2,0,"mat-error",8),d.TgZ(13,"mat-error"),d._uU(14),d.qZA(),d.qZA(),d.qZA(),d.TgZ(15,"mat-grid-tile"),d.TgZ(16,"mat-form-field"),d._UZ(17,"input",9,10),d.YNc(19,A,2,0,"mat-error",8),d.TgZ(20,"mat-error"),d._uU(21),d.qZA(),d.qZA(),d.qZA(),d.TgZ(22,"mat-grid-tile",11),d.TgZ(23,"mat-form-field"),d._UZ(24,"textarea",12,13),d.YNc(26,v,2,0,"mat-error",8),d.TgZ(27,"mat-error"),d._uU(28),d.qZA(),d.qZA(),d.qZA(),d.TgZ(29,"mat-grid-tile"),d.TgZ(30,"mat-form-field"),d.TgZ(31,"mat-label"),d._uU(32,"Area Code"),d.qZA(),d._UZ(33,"input",14,15),d.TgZ(35,"mat-icon",16),d._uU(36,"phone"),d.qZA(),d.YNc(37,T,2,0,"mat-error",8),d.YNc(38,U,2,0,"mat-error",8),d.YNc(39,I,2,1,"mat-error",8),d.qZA(),d.qZA(),d.TgZ(40,"mat-grid-tile"),d.TgZ(41,"mat-form-field"),d.TgZ(42,"mat-label"),d._uU(43,"Prefix"),d.qZA(),d._UZ(44,"input",17,18),d.TgZ(46,"mat-icon",16),d._uU(47,"phone"),d.qZA(),d.YNc(48,_,2,0,"mat-error",8),d.YNc(49,E,2,0,"mat-error",8),d.YNc(50,b,2,1,"mat-error",8),d.qZA(),d.qZA(),d.TgZ(51,"mat-grid-tile"),d.TgZ(52,"mat-form-field"),d.TgZ(53,"mat-label"),d._uU(54,"Line Number"),d.qZA(),d._UZ(55,"input",19,20),d.TgZ(57,"mat-icon",16),d._uU(58,"phone"),d.qZA(),d.YNc(59,w,2,0,"mat-error",8),d.YNc(60,S,2,0,"mat-error",8),d.YNc(61,J,2,1,"mat-error",8),d.qZA(),d.qZA(),d.TgZ(62,"mat-grid-tile"),d.TgZ(63,"mat-form-field"),d.TgZ(64,"ngx-mat-file-input",21),d.NdJ("change",function(r){return t.fileChangeEvent(r)}),d.qZA(),d.TgZ(65,"mat-icon",16),d._uU(66,"folder"),d.qZA(),d.YNc(67,F,2,0,"mat-error",8),d.YNc(68,Y,2,0,"mat-error",8),d.YNc(69,Q,2,0,"mat-error",8),d.qZA(),d.qZA(),d.qZA(),d.TgZ(70,"button",22),d._uU(71,"Add"),d.qZA(),d.qZA(),d.qZA()),2&r){let r;d.xp6(4),d.ekj("loading",t.loading),d.Q6J("formGroup",t.addContactForm),d.xp6(1),d.Q6J("cols",t.breakpoint),d.xp6(2),d.Q6J("ngIf",t.choosenImage),d.xp6(5),d.Q6J("ngIf",null==t.addContactForm.controls.firstName.errors?null:t.addContactForm.controls.firstName.errors.required),d.xp6(2),d.Oqu(t.firstnameServerError),d.xp6(5),d.Q6J("ngIf",null==t.addContactForm.controls.lastName.errors?null:t.addContactForm.controls.lastName.errors.required),d.xp6(2),d.Oqu(t.lastnameServerError),d.xp6(1),d.Q6J("colspan",t.breakpoint),d.xp6(1),d.Udp("width",t.addressFieldWidth-110,"px"),d.xp6(3),d.Q6J("ngIf",null==t.addContactForm.controls.address.errors?null:t.addContactForm.controls.address.errors.required),d.xp6(2),d.Oqu(t.addressServerError),d.xp6(2),d.Udp("width",t.addressFieldWidth/3-15,"px"),d.xp6(7),d.Q6J("ngIf",null==t.addContactForm.controls.areaCode.errors?null:t.addContactForm.controls.areaCode.errors.required),d.xp6(1),d.Q6J("ngIf",null==t.addContactForm.controls.areaCode.errors?null:t.addContactForm.controls.areaCode.errors.maxlength),d.xp6(1),d.Q6J("ngIf",t.areaCodeServerError),d.xp6(2),d.Udp("width",t.addressFieldWidth/3-15,"px"),d.xp6(7),d.Q6J("ngIf",null==t.addContactForm.controls.prefix.errors?null:t.addContactForm.controls.prefix.errors.required),d.xp6(1),d.Q6J("ngIf",null==t.addContactForm.controls.prefix.errors?null:t.addContactForm.controls.prefix.errors.maxlength),d.xp6(1),d.Q6J("ngIf",t.prefixCodeServerError),d.xp6(2),d.Udp("width",t.addressFieldWidth/3-15,"px"),d.xp6(7),d.Q6J("ngIf",null==t.addContactForm.controls.lineNumber.errors?null:t.addContactForm.controls.lineNumber.errors.required),d.xp6(1),d.Q6J("ngIf",null==t.addContactForm.controls.lineNumber.errors?null:t.addContactForm.controls.lineNumber.errors.maxlength),d.xp6(1),d.Q6J("ngIf",t.landLineCodeServerError),d.xp6(6),d.Q6J("ngIf",null==t.addContactForm.controls.photo.errors?null:t.addContactForm.controls.photo.errors.required),d.xp6(1),d.Q6J("ngIf",null==(r=t.addContactForm.get("photo"))?null:r.hasError("maxContentSize")),d.xp6(1),d.Q6J("ngIf",t.photoServerError),d.xp6(1),d.Q6J("disabled",t.addContactForm.invalid)}},directives:[n.uh,n.xY,i._Y,i.JL,i.sg,m.Il,o.O5,m.DX,u.KE,g.Nt,i.Fj,i.JJ,i.u,u.TO,u.hX,i.Q7,p.Hw,u.R9,s.Yh,f.lW,h.G2],styles:[""]}),r})();var y=e(9091),L=e(2312),O=e(7672);const W=["gridList"],R=["img"];function D(r,t){1&r&&(d.TgZ(0,"div",25),d._UZ(1,"mat-spinner",26),d.qZA())}function j(r,t){if(1&r&&(d.TgZ(0,"h2",27),d._uU(1,"Edit "),d.TgZ(2,"strong"),d._uU(3),d.qZA(),d._uU(4," data "),d.qZA()),2&r){const r=d.oxw();d.xp6(3),d.hij("",r.contact.name,"`s")}}function B(r,t){if(1&r&&(d.TgZ(0,"h2",27),d._uU(1,"Edit "),d.TgZ(2,"strong"),d._uU(3),d.qZA(),d._uU(4," data "),d.qZA()),2&r){const r=d.oxw();d.xp6(3),d.hij("",r.contact.lastName,"`s")}}function M(r,t){if(1&r&&(d.TgZ(0,"div"),d._UZ(1,"img",28,29),d.qZA()),2&r){const r=d.oxw();d.xp6(1),d.Udp("width",255,"px"),d.Q6J("src",r.choosenImage,d.LSH)}}function $(r,t){1&r&&d._UZ(0,"div")}function z(r,t){if(1&r&&d._UZ(0,"img",28,29),2&r){const r=d.oxw(2);d.Udp("width",255,"px"),d.Q6J("src",null==r.contact?null:r.contact.photoUrl.data,d.LSH)}}function H(r,t){if(1&r&&d._UZ(0,"img",28,29),2&r){const r=d.oxw(2);d.Udp("width",255,"px"),d.Q6J("src",null==r.contact?null:r.contact.photoUrl,d.LSH)}}function G(r,t){if(1&r&&(d.TgZ(0,"div"),d.YNc(1,$,1,0,"div",30),d.YNc(2,z,2,3,"ng-template",null,31,d.W1O),d.YNc(4,H,2,3,"ng-template",null,32,d.W1O),d.qZA()),2&r){const r=d.MAs(3),t=d.MAs(5),e=d.oxw();d.xp6(1),d.Q6J("ngIf",e.contact.photoUrl.data)("ngIfThen",r)("ngIfElse",t)}}function P(r,t){1&r&&(d.TgZ(0,"mat-error"),d._uU(1,"Enter first name"),d.qZA())}function X(r,t){1&r&&(d.TgZ(0,"mat-error"),d._uU(1,"Enter your last name!"),d.qZA())}function K(r,t){1&r&&(d.TgZ(0,"mat-error"),d._uU(1,"Enter your address!"),d.qZA())}function V(r,t){1&r&&(d.TgZ(0,"mat-error"),d._uU(1,"Enter your area code!"),d.qZA())}function rr(r,t){1&r&&(d.TgZ(0,"mat-error"),d._uU(1,"The max no. of area code is 5 !"),d.qZA())}function tr(r,t){if(1&r&&(d.TgZ(0,"mat-error"),d._uU(1),d.qZA()),2&r){const r=d.oxw();d.xp6(1),d.Oqu(r.areaCodeServerError)}}function er(r,t){1&r&&(d.TgZ(0,"mat-error"),d._uU(1,"Enter your prefix code!"),d.qZA())}function or(r,t){1&r&&(d.TgZ(0,"mat-error"),d._uU(1,"The max no. of prefix code is 3 !"),d.qZA())}function ar(r,t){if(1&r&&(d.TgZ(0,"mat-error"),d._uU(1),d.qZA()),2&r){const r=d.oxw();d.xp6(1),d.Oqu(r.prefixCodeServerError)}}function nr(r,t){1&r&&(d.TgZ(0,"mat-error"),d._uU(1,"Enter your Line Number code!"),d.qZA())}function ir(r,t){1&r&&(d.TgZ(0,"mat-error"),d._uU(1,"The max no. of Line Number code is 4 !"),d.qZA())}function sr(r,t){if(1&r&&(d.TgZ(0,"mat-error"),d._uU(1),d.qZA()),2&r){const r=d.oxw();d.xp6(1),d.Oqu(r.landLineCodeServerError)}}function dr(r,t){1&r&&(d.TgZ(0,"mat-error"),d._uU(1,"Image is required!"),d.qZA())}function cr(r,t){1&r&&(d.TgZ(0,"mat-error"),d._uU(1,"Photo should not 300 KB!"),d.qZA())}function lr(r,t){1&r&&(d.TgZ(0,"mat-error"),d._uU(1,"Photo should be in jpeg, jpg or png format!"),d.qZA())}let mr=(()=>{class r{constructor(r,t,e,o,a){this.fb=r,this.EditDialogRef=t,this._EditedContactsnackBar=o,this.api=a,this.imageBase64={extension:"",data:""},this.choosenImage="",this.loading=!1,this.firstnameServerError="",this.lastnameServerError="",this.addressServerError="",this.areaCodeServerError="",this.prefixCodeServerError="",this.landLineCodeServerError="",this.photoServerError="",this.contact=e}ngOnInit(){this.editContactForm=this.fb.group({firstName:[this.contact.name?this.contact.name:this.contact.firstName,i.kI.required],lastName:[this.contact.name?"":this.contact.lastName,i.kI.required],address:[this.contact.address,i.kI.required],areaCode:[this.contact.areaCode,i.kI.compose([i.kI.maxLength(5),i.kI.required])],prefix:[this.contact.prefix,i.kI.compose([i.kI.maxLength(3),i.kI.required])],lineNumber:[this.contact.lineNumber,i.kI.compose([i.kI.maxLength(4),i.kI.required])],photo:["",[i.kI.required,s.CU.maxContentSize(307200)]]}),this.breakpoint=window.innerWidth<=600?1:2}onResize(r){this.breakpoint=r.target.innerWidth<=600?1:2,this.addressFieldWidth=this.gridList._element.nativeElement.offsetWidth}ngAfterViewInit(){setTimeout(()=>{this.addressFieldWidth=this.gridList._element.nativeElement.offsetWidth},0)}close(){}save(){}fileChangeEvent(r){if(null!=r){this.imageBase64.extension=r.target.files[0].type.replace(/^.*[\\\/]/,"");var t=r.target.files,e=t[0];if(t&&e){var o=new FileReader;o.onload=this._handleReaderLoaded.bind(this),o.readAsBinaryString(e)}}}_handleReaderLoaded(r){this.imageBase64.data=btoa(r.target.result),this.choosenImage="data:image/jpeg;base64,"+this.imageBase64.data}onSubmit(){this.loading=!0;const r=Object.assign({},this.editContactForm.value),t={_id:this.contact._id,name:r.name,firstName:r.firstName,lastName:r.lastName,address:r.address,phone:r.phone,areaCode:r.areaCode,prefix:r.prefix,lineNumber:r.lineNumber,photoUrl:this.imageBase64};console.log(t),this.api.put("contacts/"+this.contact._id,t).subscribe(r=>{var t,e,o,a,n,i,s;401==r.statusCode?(alert(r.error),this.resetAll()):422==r.statusCode?(console.log("from edit-contact-modal.component.js"+JSON.stringify(r.error)),r.error.firstName&&(null===(t=this.editContactForm.get("firstName"))||void 0===t||t.setErrors({[`${r.error.firstName}`]:!0}),this.firstnameServerError=r.error.firstName),r.error.lastName&&(null===(e=this.editContactForm.get("lastName"))||void 0===e||e.setErrors({[`${r.error.lastName}`]:!0}),this.lastnameServerError=r.error.lastName),r.error.address&&(null===(o=this.editContactForm.get("address"))||void 0===o||o.setErrors({[`${r.error.address}`]:!0}),this.addressServerError=r.error.address),r.error.areaCode&&(null===(a=this.editContactForm.get("areaCode"))||void 0===a||a.setErrors({[`${r.error.areaCode}`]:!0}),this.areaCodeServerError=r.error.areaCode),r.error.prefix&&(null===(n=this.editContactForm.get("prefix"))||void 0===n||n.setErrors({[`${r.error.prefix}`]:!0}),this.prefixCodeServerError=r.error.prefix),r.error.lineNumber&&(null===(i=this.editContactForm.get("lineNumber"))||void 0===i||i.setErrors({[`${r.error.lineNumber}`]:!0}),this.landLineCodeServerError=r.error.lineNumber),r.error.photoUrl&&(null===(s=this.editContactForm.get("photo"))||void 0===s||s.setErrors({[`${r.error.photoUrl}`]:!0}),this.photoServerError=r.error.photoUrl),this.photoServerError=r.error.photoUrl,this.editContactForm.markAllAsTouched(),this.loading=!1):(this.loading=!0,this.contactEdited=r.value,console.log(this.contactEdited),this._EditedContactsnackBar.open(`${this.contactEdited.firstName} ${this.contactEdited.lastName}`,"Updated!",{duration:5e3}),this.api.makeRefresh(),this.EditDialogRef.close())})}resetAll(){this.loading=!1,this.EditDialogRef.close(),this.firstnameServerError="",this.lastnameServerError="",this.addressServerError="",this.areaCodeServerError="",this.prefixCodeServerError="",this.landLineCodeServerError="",this.photoServerError="",this.ngOnInit()}}return r.\u0275fac=function(t){return new(t||r)(d.Y36(i.qu),d.Y36(n.so),d.Y36(n.WI),d.Y36(c.ux),d.Y36(l.s))},r.\u0275cmp=d.Xpm({type:r,selectors:[["app-edit-contact-modal"]],viewQuery:function(r,t){if(1&r&&(d.Gf(W,5),d.Gf(R,5)),2&r){let r;d.iGM(r=d.CRH())&&(t.gridList=r.first),d.iGM(r=d.CRH())&&(t.img=r.first)}},decls:77,vars:41,consts:[[1,"dialog-container"],["class","loader-container",4,"ngIf"],[1,"add-title"],["mat-dialog-title","",4,"ngIf"],["novalidate","",3,"formGroup","ngSubmit"],["rowHeight","85px",3,"cols","resize"],["gridList",""],[3,"colspan","rowspan"],[4,"ngIf"],["matInput","","placeholder","First Name","type","text","formControlName","firstName"],["firstName",""],["matInput","","placeholder","Last Name","type","text","formControlName","lastName"],["lastName",""],[3,"colspan"],["matInput","","placeholder","Address","type","text","formControlName","address"],["address",""],["matInput","","formControlName","areaCode","placeholder","#####","required",""],["areaCode",""],["matSuffix",""],["matInput","","formControlName","prefix","placeholder","###","required",""],["prefix",""],["matInput","","formControlName","lineNumber","placeholder","####","required",""],["lineNumber",""],["matInput","","formControlName","photo","placeholder","Image","accept","image/*",3,"change"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[1,"loader-container"],[2,"top","50%","left","50%"],["mat-dialog-title",""],["mat-card-image","",3,"src"],["img",""],[4,"ngIf","ngIfThen","ngIfElse"],["binaryImage",""],["serverImage",""]],template:function(r,t){if(1&r&&(d.TgZ(0,"div",0),d.YNc(1,D,2,0,"div",1),d.ALo(2,"async"),d.TgZ(3,"div",2),d.YNc(4,j,5,1,"h2",3),d.YNc(5,B,5,1,"h2",3),d.qZA(),d.TgZ(6,"mat-dialog-content"),d.TgZ(7,"form",4),d.NdJ("ngSubmit",function(){return t.onSubmit()}),d.TgZ(8,"mat-grid-list",5,6),d.NdJ("resize",function(r){return t.onResize(r)},!1,d.Jf7),d.TgZ(10,"mat-grid-tile",7),d.YNc(11,M,3,3,"div",8),d.YNc(12,G,6,3,"div",8),d.qZA(),d.TgZ(13,"mat-grid-tile"),d.TgZ(14,"mat-form-field"),d._UZ(15,"input",9,10),d.YNc(17,P,2,0,"mat-error",8),d.TgZ(18,"mat-error"),d._uU(19),d.qZA(),d.qZA(),d.qZA(),d.TgZ(20,"mat-grid-tile"),d.TgZ(21,"mat-form-field"),d._UZ(22,"input",11,12),d.YNc(24,X,2,0,"mat-error",8),d.TgZ(25,"mat-error"),d._uU(26),d.qZA(),d.qZA(),d.qZA(),d.TgZ(27,"mat-grid-tile",13),d.TgZ(28,"mat-form-field"),d._UZ(29,"textarea",14,15),d.YNc(31,K,2,0,"mat-error",8),d.TgZ(32,"mat-error"),d._uU(33),d.qZA(),d.qZA(),d.qZA(),d.TgZ(34,"mat-grid-tile"),d.TgZ(35,"mat-form-field"),d.TgZ(36,"mat-label"),d._uU(37,"Area Code"),d.qZA(),d._UZ(38,"input",16,17),d.TgZ(40,"mat-icon",18),d._uU(41,"phone"),d.qZA(),d.YNc(42,V,2,0,"mat-error",8),d.YNc(43,rr,2,0,"mat-error",8),d.YNc(44,tr,2,1,"mat-error",8),d.qZA(),d.qZA(),d.TgZ(45,"mat-grid-tile"),d.TgZ(46,"mat-form-field"),d.TgZ(47,"mat-label"),d._uU(48,"Prefix"),d.qZA(),d._UZ(49,"input",19,20),d.TgZ(51,"mat-icon",18),d._uU(52,"phone"),d.qZA(),d.YNc(53,er,2,0,"mat-error",8),d.YNc(54,or,2,0,"mat-error",8),d.YNc(55,ar,2,1,"mat-error",8),d.qZA(),d.qZA(),d.TgZ(56,"mat-grid-tile"),d.TgZ(57,"mat-form-field"),d.TgZ(58,"mat-label"),d._uU(59,"Line Number"),d.qZA(),d._UZ(60,"input",21,22),d.TgZ(62,"mat-icon",18),d._uU(63,"phone"),d.qZA(),d.YNc(64,nr,2,0,"mat-error",8),d.YNc(65,ir,2,0,"mat-error",8),d.YNc(66,sr,2,1,"mat-error",8),d.qZA(),d.qZA(),d.TgZ(67,"mat-grid-tile"),d.TgZ(68,"mat-form-field"),d.TgZ(69,"ngx-mat-file-input",23),d.NdJ("change",function(r){return t.fileChangeEvent(r)}),d.qZA(),d.TgZ(70,"mat-icon",18),d._uU(71,"folder"),d.qZA(),d.YNc(72,dr,2,0,"mat-error",8),d.YNc(73,cr,2,0,"mat-error",8),d.YNc(74,lr,2,0,"mat-error",8),d.qZA(),d.qZA(),d.qZA(),d.TgZ(75,"button",24),d._uU(76,"Edit"),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&r){let r;d.xp6(1),d.Q6J("ngIf",d.lcZ(2,39,t.api.isLoading)),d.xp6(3),d.Q6J("ngIf",t.contact.name),d.xp6(1),d.Q6J("ngIf",t.contact.firstName),d.xp6(2),d.ekj("loading",t.loading),d.Q6J("formGroup",t.editContactForm),d.xp6(1),d.Q6J("cols",t.breakpoint),d.xp6(2),d.Q6J("colspan",t.breakpoint)("rowspan",3),d.xp6(1),d.Q6J("ngIf",t.choosenImage),d.xp6(1),d.Q6J("ngIf",""==t.choosenImage),d.xp6(5),d.Q6J("ngIf",null==t.editContactForm.controls.firstName.errors?null:t.editContactForm.controls.firstName.errors.required),d.xp6(2),d.Oqu(t.firstnameServerError),d.xp6(5),d.Q6J("ngIf",null==t.editContactForm.controls.lastName.errors?null:t.editContactForm.controls.lastName.errors.required),d.xp6(2),d.Oqu(t.lastnameServerError),d.xp6(1),d.Q6J("colspan",t.breakpoint),d.xp6(1),d.Udp("width",t.addressFieldWidth-110,"px"),d.xp6(3),d.Q6J("ngIf",null==t.editContactForm.controls.address.errors?null:t.editContactForm.controls.address.errors.required),d.xp6(2),d.Oqu(t.addressServerError),d.xp6(2),d.Udp("width",t.addressFieldWidth/3-15,"px"),d.xp6(7),d.Q6J("ngIf",null==t.editContactForm.controls.areaCode.errors?null:t.editContactForm.controls.areaCode.errors.required),d.xp6(1),d.Q6J("ngIf",null==t.editContactForm.controls.areaCode.errors?null:t.editContactForm.controls.areaCode.errors.maxlength),d.xp6(1),d.Q6J("ngIf",t.areaCodeServerError),d.xp6(2),d.Udp("width",t.addressFieldWidth/3-15,"px"),d.xp6(7),d.Q6J("ngIf",null==t.editContactForm.controls.prefix.errors?null:t.editContactForm.controls.prefix.errors.required),d.xp6(1),d.Q6J("ngIf",null==t.editContactForm.controls.prefix.errors?null:t.editContactForm.controls.prefix.errors.maxlength),d.xp6(1),d.Q6J("ngIf",t.prefixCodeServerError),d.xp6(2),d.Udp("width",t.addressFieldWidth/3-15,"px"),d.xp6(7),d.Q6J("ngIf",null==t.editContactForm.controls.lineNumber.errors?null:t.editContactForm.controls.lineNumber.errors.required),d.xp6(1),d.Q6J("ngIf",null==t.editContactForm.controls.lineNumber.errors?null:t.editContactForm.controls.lineNumber.errors.maxlength),d.xp6(1),d.Q6J("ngIf",t.landLineCodeServerError),d.xp6(6),d.Q6J("ngIf",null==t.editContactForm.controls.photo.errors?null:t.editContactForm.controls.photo.errors.required),d.xp6(1),d.Q6J("ngIf",null==(r=t.editContactForm.get("photo"))?null:r.hasError("maxContentSize")),d.xp6(1),d.Q6J("ngIf",t.photoServerError),d.xp6(1),d.Q6J("disabled",t.editContactForm.invalid)}},directives:[o.O5,n.xY,i._Y,i.JL,i.sg,m.Il,m.DX,u.KE,g.Nt,i.Fj,i.JJ,i.u,u.TO,u.hX,i.Q7,p.Hw,u.R9,s.Yh,f.lW,O.$g,n.uh,h.G2],pipes:[o.Ov],styles:[".dialog-container[_ngcontent-%COMP%]{position:relative}.loader-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:100%;width:100%;background:#000;opacity:.8;z-index:99999}"]}),r})();function ur(r,t){if(1&r&&(d.TgZ(0,"h2",4),d._uU(1,"Delete "),d.TgZ(2,"strong"),d._uU(3),d.qZA(),d._uU(4," data "),d.qZA()),2&r){const r=d.oxw();d.xp6(3),d.hij("",r.contact.name,"`s")}}function gr(r,t){if(1&r&&(d.TgZ(0,"h2",4),d._uU(1,"Delete "),d.TgZ(2,"strong"),d._uU(3),d.qZA(),d._uU(4," data "),d.qZA()),2&r){const r=d.oxw();d.xp6(3),d.hij("",r.contact.lastName,"`s")}}let pr=(()=>{class r{constructor(r,t,e,o){this.deleteDialogRef=t,this.api=e,this._EditedContactsnackBar=o,this.contact=r}ngOnInit(){}deleteContact(){this.api.delete("contacts/"+this.contact._id).subscribe(r=>{401==r.statusCode?alert(r.error):(console.log(r),this._EditedContactsnackBar.open(`${this.contact.firstName} ${this.contact.lastName}`,"Deleted!",{duration:5e3}),this.api.makeRefresh(),this.deleteDialogRef.close())})}}return r.\u0275fac=function(t){return new(t||r)(d.Y36(n.WI),d.Y36(n.so),d.Y36(l.s),d.Y36(c.ux))},r.\u0275cmp=d.Xpm({type:r,selectors:[["app-delete-contact-modal"]],decls:9,vars:2,consts:[[1,"add-title"],["mat-dialog-title","",4,"ngIf"],[1,"text-danger"],["mat-raised-button","","color","warn",3,"click"],["mat-dialog-title",""]],template:function(r,t){1&r&&(d.TgZ(0,"div",0),d.YNc(1,ur,5,1,"h2",1),d.YNc(2,gr,5,1,"h2",1),d.qZA(),d.TgZ(3,"p"),d._uU(4,"All information associated to this user contact will be permanently deleted. "),d.TgZ(5,"span",2),d._uU(6,"This operation can not be undone."),d.qZA(),d.qZA(),d.TgZ(7,"button",3),d.NdJ("click",function(){return t.deleteContact()}),d._uU(8,"Delete"),d.qZA()),2&r&&(d.xp6(1),d.Q6J("ngIf",t.contact.name),d.xp6(1),d.Q6J("ngIf",t.contact.firstName))},directives:[o.O5,f.lW,n.uh],styles:[""]}),r})();const fr=function(r){return{"background-image":r,"background-size":"cover"}};function hr(r,t){if(1&r&&d._UZ(0,"div",12),2&r){const r=d.oxw();d.Q6J("ngStyle",d.VKq(1,fr,"url("+r.contact.photoUrl.data+")"))}}function Zr(r,t){if(1&r&&d._UZ(0,"div",12),2&r){const r=d.oxw();d.Q6J("ngStyle",d.VKq(1,fr,"url("+r.contact.photoUrl+")"))}}function xr(r,t){1&r&&d._UZ(0,"div")}function Cr(r,t){if(1&r&&(d.TgZ(0,"a",13),d._uU(1),d.qZA()),2&r){const r=d.oxw();d.xp6(1),d.Oqu(r.contact.name)}}function Nr(r,t){if(1&r&&(d.TgZ(0,"a",13),d._uU(1),d.qZA()),2&r){const r=d.oxw();d.xp6(1),d.AsE("",r.contact.firstName," ",r.contact.lastName,"")}}function qr(r,t){1&r&&d._UZ(0,"div")}function Ar(r,t){if(1&r&&d._UZ(0,"img",14),2&r){const r=d.oxw();d.Q6J("src",null==r.contact?null:r.contact.photoUrl.data,d.LSH)}}function vr(r,t){if(1&r&&d._UZ(0,"img",14),2&r){const r=d.oxw();d.Q6J("src",null==r.contact?null:r.contact.photoUrl,d.LSH)}}function Tr(r,t){1&r&&d._UZ(0,"div")}function Ur(r,t){if(1&r&&d._uU(0),2&r){const r=d.oxw();d.hij(" ",r.contact.phone," ")}}function Ir(r,t){if(1&r&&d._uU(0),2&r){const r=d.oxw();d.lnq(" ",r.contact.areaCode," ",r.contact.prefix,"-",r.contact.lineNumber," ")}}let _r=(()=>{class r{constructor(r){this.dialog=r,this.columnClass="four wide column"}ngOnInit(){}openEditDialog(){const r=new n.vA;r.autoFocus=!0,r.width="640px",r.data=this.contact,this.dialog.open(mr,r)}openDeleteDialog(){const r=new n.vA;r.autoFocus=!0,r.width="640px",r.data=this.contact,this.dialog.open(pr,r)}}return r.\u0275fac=function(t){return new(t||r)(d.Y36(n.uw))},r.\u0275cmp=d.Xpm({type:r,selectors:[["app-contact"]],hostVars:2,hostBindings:function(r,t){2&r&&d.Tol(t.columnClass)},inputs:{contact:"contact"},decls:35,vars:12,consts:[["mat-card-avatar","",3,"ngStyle",4,"ngIf"],[4,"ngIf","ngIfThen","ngIfElse"],["name",""],["firstNameLastName",""],["binaryImage",""],["serverImage",""],["phoneDataOneValue",""],["phoneDataDetails",""],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click"],[1,"flex-spacer"],["mat-icon-button",""],["mat-card-avatar","",3,"ngStyle"],[1,"header"],["mat-card-image","",3,"src"]],template:function(r,t){if(1&r&&(d.TgZ(0,"mat-card"),d.TgZ(1,"mat-card-header"),d.YNc(2,hr,1,3,"div",0),d.YNc(3,Zr,1,3,"div",0),d.TgZ(4,"mat-card-title"),d.YNc(5,xr,1,0,"div",1),d.YNc(6,Cr,2,1,"ng-template",null,2,d.W1O),d.YNc(8,Nr,2,2,"ng-template",null,3,d.W1O),d.qZA(),d.TgZ(10,"mat-card-subtitle"),d._uU(11,"mkamal11@gmail.com"),d.qZA(),d.qZA(),d.YNc(12,qr,1,0,"div",1),d.YNc(13,Ar,1,1,"ng-template",null,4,d.W1O),d.YNc(15,vr,1,1,"ng-template",null,5,d.W1O),d.TgZ(17,"mat-card-content"),d.YNc(18,Tr,1,0,"div",1),d.YNc(19,Ur,1,1,"ng-template",null,6,d.W1O),d.YNc(21,Ir,1,3,"ng-template",null,7,d.W1O),d._UZ(23,"br"),d.TgZ(24,"p"),d._uU(25),d.qZA(),d.qZA(),d.TgZ(26,"mat-card-actions"),d.TgZ(27,"button",8),d.NdJ("click",function(){return t.openEditDialog()}),d._uU(28,"Edit"),d.qZA(),d.TgZ(29,"button",9),d.NdJ("click",function(){return t.openDeleteDialog()}),d._uU(30,"Delete"),d.qZA(),d._UZ(31,"div",10),d.TgZ(32,"button",11),d.TgZ(33,"mat-icon"),d._uU(34,"publish"),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&r){const r=d.MAs(7),e=d.MAs(9),o=d.MAs(14),a=d.MAs(16),n=d.MAs(20),i=d.MAs(22);d.xp6(2),d.Q6J("ngIf",t.contact.photoUrl.data),d.xp6(1),d.Q6J("ngIf",!t.contact.photoUrl.data),d.xp6(2),d.Q6J("ngIf",t.contact.name)("ngIfThen",r)("ngIfElse",e),d.xp6(7),d.Q6J("ngIf",t.contact.photoUrl.data)("ngIfThen",o)("ngIfElse",a),d.xp6(6),d.Q6J("ngIf",t.contact.phone)("ngIfThen",n)("ngIfElse",i),d.xp6(7),d.hij("Address: ",t.contact.address,"")}},directives:[h.a8,h.dk,o.O5,h.n5,h.$j,h.dn,h.hq,f.lW,p.Hw,h.kc,o.PC,h.G2],styles:[".mat-card[_ngcontent-%COMP%]{margin:1rem}.mat-card-actions[_ngcontent-%COMP%]{display:flex}.mat-card-actions[_ngcontent-%COMP%]   .flex-spacer[_ngcontent-%COMP%]{width:100%}"]}),r})(),Er=(()=>{class r{transform(r,t){return r&&t?r.filter(r=>r.name?r.name.toLowerCase().includes(t.toLowerCase()):r.firstName.toLowerCase().includes(t.toLowerCase())||r.lastName.toLowerCase().includes(t.toLowerCase())):r}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275pipe=d.Yjl({name:"searchContact",type:r,pure:!0}),r})();function br(r,t){1&r&&(d.TgZ(0,"div",7),d._UZ(1,"mat-progress-bar",8),d.qZA())}function wr(r,t){if(1&r&&(d.TgZ(0,"mat-grid-tile"),d._UZ(1,"app-contact",9),d.qZA()),2&r){const r=t.$implicit;d.xp6(1),d.Q6J("contact",r)}}const Sr=[{path:"",component:(()=>{class r{constructor(r,t,e){this.api=r,this.auth=t,this.addNewContactdialog=e,this.seachTerm="",r.refreshCall$.subscribe(()=>{this.refeshContacts(null)})}ngOnInit(){this.api.get("contacts").subscribe(r=>{this.contacts=r}),this.breakpoint=window.innerWidth<=608?1:window.innerWidth<=907?2:3}refeshContacts(r){this.ngOnInit()}onResize(r){this.breakpoint=r.target.innerWidth<=608?1:r.target.innerWidth<=907?2:3}openAddNewContactDialog(){const r=new n.vA;r.autoFocus=!0,r.width="640px",this.addNewContactdialog.open(k,r)}}return r.\u0275fac=function(t){return new(t||r)(d.Y36(l.s),d.Y36(y.e),d.Y36(n.uw))},r.\u0275cmp=d.Xpm({type:r,selectors:[["app-contact-list"]],decls:14,vars:9,consts:[["class","loader-container",4,"ngIf"],["layout","row","layout-align","center center"],[1,"searchContact"],["matInput","","name","username","type","text",3,"ngModel","ngModelChange"],["mat-raised-button","","matSuffix","","mat-stroked-button","","color","primary",3,"click"],["rowHeight","1:2",3,"cols","resize"],[4,"ngFor","ngForOf"],[1,"loader-container"],["mode","indeterminate"],[3,"contact"]],template:function(r,t){1&r&&(d.YNc(0,br,2,0,"div",0),d.ALo(1,"async"),d.TgZ(2,"div",1),d.TgZ(3,"div"),d.TgZ(4,"mat-form-field",2),d.TgZ(5,"mat-label"),d._uU(6,"Search Contact"),d.qZA(),d.TgZ(7,"input",3),d.NdJ("ngModelChange",function(r){return t.seachTerm=r}),d.qZA(),d.qZA(),d.qZA(),d.TgZ(8,"div"),d.TgZ(9,"button",4),d.NdJ("click",function(){return t.openAddNewContactDialog()}),d._uU(10,"Add New Contact"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(11,"mat-grid-list",5),d.NdJ("resize",function(r){return t.onResize(r)},!1,d.Jf7),d.YNc(12,wr,2,1,"mat-grid-tile",6),d.ALo(13,"searchContact"),d.qZA()),2&r&&(d.Q6J("ngIf",d.lcZ(1,4,t.api.isLoading)),d.xp6(7),d.Q6J("ngModel",t.seachTerm),d.xp6(4),d.Q6J("cols",t.breakpoint),d.xp6(1),d.Q6J("ngForOf",d.xi3(13,6,t.contacts,t.seachTerm)))},directives:[o.O5,u.KE,u.hX,g.Nt,i.Fj,i.JJ,i.On,f.lW,u.R9,m.Il,o.sg,L.pW,m.DX,_r],pipes:[o.Ov,Er],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}"]}),r})()}];let Jr=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=d.oAB({type:r}),r.\u0275inj=d.cJS({imports:[[a.Bz.forChild(Sr)],a.Bz]}),r})();var Fr=e(3855);let Yr=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=d.oAB({type:r}),r.\u0275inj=d.cJS({imports:[[o.ez,Jr,Fr.h,i.u5,i.UX]]}),r})()}}]);