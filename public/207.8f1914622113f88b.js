"use strict";(self.webpackChunkmyStore=self.webpackChunkmyStore||[]).push([[207],{5207:(X,g,i)=>{i.r(g),i.d(g,{CartModule:()=>K});var l=i(6895),m=i(3060),a=i(4006),t=i(4650),C=i(1704),v=i(8886),f=i(4859),x=i(7392),h=i(4850),p=i(9549),Z=i(4144),_=i(782),T=i(3162),u=i(1576),y=i(3238),c=i(3546),P=i(4385),N=i(5829);function I(e,o){if(1&e&&(t.TgZ(0,"mat-option",8),t._uU(1),t.qZA()),2&e){const r=o.$implicit;t.Q6J("value",r),t.xp6(1),t.hij(" ",r," ")}}const A=function(e){return{"background-image":e,"background-size":"cover",display:"inline-block"}};let L=(()=>{class e{constructor(r){this.Cart=r,this.removeProductEvent=new t.vpe,this.modifyProductEvent=new t.vpe,this.columnClass="four wide column",this.Quantity=[1,2,3,4,5,6,7,8,10],this.selectedQ=1}ngOnInit(){this.selectedQ=this.orderedQuantity}modifyProductInCart(r){this.Cart.addProduct(this.product,r),this.modifyProductEvent.emit()}removeProductFromCart(r){this.Cart.remove(r),this.removeProductEvent.emit(r)}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(C.N))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-cart-product"]],hostVars:2,hostBindings:function(r,n){2&r&&t.Tol(n.columnClass)},inputs:{product:"product",orderedQuantity:"orderedQuantity"},outputs:{removeProductEvent:"removeProductEvent",modifyProductEvent:"modifyProductEvent"},decls:17,vars:8,consts:[["mat-card-avatar","",3,"ngStyle"],[1,"header"],["mat-card-image","",3,"src"],["placeholder","Quantity",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[1,"flex-spacer"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","Danger",3,"click"],[3,"value"]],template:function(r,n){1&r&&(t.TgZ(0,"mat-card")(1,"mat-card-header"),t._UZ(2,"div",0),t.TgZ(3,"mat-card-title")(4,"a",1),t._uU(5),t.qZA()(),t.TgZ(6,"mat-card-title"),t._uU(7),t.qZA()(),t._UZ(8,"img",2),t.TgZ(9,"mat-card-actions")(10,"mat-select",3),t.NdJ("valueChange",function(d){return n.selectedQ=d}),t.YNc(11,I,2,2,"mat-option",4),t.qZA(),t._UZ(12,"div",5),t.TgZ(13,"button",6),t.NdJ("click",function(){return n.modifyProductInCart(n.selectedQ)}),t._uU(14,"Modify Quantity"),t.qZA(),t.TgZ(15,"button",7),t.NdJ("click",function(){return n.removeProductFromCart(n.product)}),t._uU(16,"Remove"),t.qZA()()()),2&r&&(t.xp6(2),t.Q6J("ngStyle",t.VKq(6,A,"url("+n.product.url+")")),t.xp6(3),t.Oqu(n.product.name),t.xp6(2),t.hij("",n.product.price," $ "),t.xp6(1),t.Q6J("src",n.product.url,t.LSH),t.xp6(2),t.Q6J("value",n.selectedQ),t.xp6(1),t.Q6J("ngForOf",n.Quantity))},dependencies:[l.sg,l.PC,f.lW,y.ey,c.a8,c.dk,c.n5,c.hq,c.G2,c.kc,P.gD,N.Zl],styles:[".mat-card[_ngcontent-%COMP%]{margin:1rem}.mat-select[_ngcontent-%COMP%]{width:25%}.mat-card-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-center;align-items:center}.mat-card-actions[_ngcontent-%COMP%]   .flex-spacer[_ngcontent-%COMP%]{width:20%}"]}),e})();function Q(e,o){if(1&e&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&e){const r=t.oxw();t.xp6(1),t.AsE("You have ordered ",r.totalItems," item with a total of ",r.totalPrice,"$")}}function U(e,o){1&e&&(t.TgZ(0,"div")(1,"p"),t._uU(2,"Cart is Empty"),t.qZA()())}function J(e,o){1&e&&(t.TgZ(0,"div",5),t._UZ(1,"mat-progress-bar",6),t.qZA())}function D(e,o){if(1&e){const r=t.EpF();t.TgZ(0,"div",10)(1,"app-cart-product",11),t.NdJ("modifyProductEvent",function(){t.CHM(r);const s=t.oxw(2);return t.KtG(s.modifyProduct())})("removeProductEvent",function(s){t.CHM(r);const d=t.oxw(2);return t.KtG(d.removeProduct(s))}),t.qZA()()}if(2&e){const r=o.$implicit;t.xp6(1),t.Q6J("product",r.P)("orderedQuantity",r.Q)}}function Y(e,o){if(1&e&&(t.TgZ(0,"div",7)(1,"div",8),t.YNc(2,D,2,2,"div",9),t.qZA()()),2&e){const r=t.oxw();t.xp6(2),t.Q6J("ngForOf",r.order)}}function q(e,o){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Enter your full name"),t.qZA())}function F(e,o){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"only characters"),t.qZA())}function O(e,o){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Less than 5 characters"),t.qZA())}function E(e,o){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"More than 50 characters"),t.qZA())}function M(e,o){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Enter your address"),t.qZA())}function b(e,o){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"only characters"),t.qZA())}function k(e,o){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Less than 20 characters"),t.qZA())}function S(e,o){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"More than 70 characters"),t.qZA())}function z(e,o){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Enter your credit card number!"),t.qZA())}function H(e,o){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"only numbers"),t.qZA())}function j(e,o){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"not more than 14 digits"),t.qZA())}function w(e,o){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Not less than 14 digits"),t.qZA())}function B(e,o){if(1&e){const r=t.EpF();t.TgZ(0,"div")(1,"form",12),t.NdJ("ngSubmit",function(){t.CHM(r);const s=t.oxw();return t.KtG(s.onSubmit())}),t.TgZ(2,"mat-grid-list",13,14),t.NdJ("resize",function(s){t.CHM(r);const d=t.oxw();return t.KtG(d.onResize(s))},!1,t.Jf7),t.TgZ(4,"mat-grid-tile")(5,"mat-form-field"),t._UZ(6,"input",15,16),t.YNc(8,q,2,0,"mat-error",1),t.YNc(9,F,2,0,"mat-error",1),t.YNc(10,O,2,0,"mat-error",1),t.YNc(11,E,2,0,"mat-error",1),t.qZA()(),t.TgZ(12,"mat-grid-tile")(13,"mat-form-field"),t._UZ(14,"input",17,18),t.YNc(16,M,2,0,"mat-error",1),t.YNc(17,b,2,0,"mat-error",1),t.YNc(18,k,2,0,"mat-error",1),t.YNc(19,S,2,0,"mat-error",1),t.qZA()(),t.TgZ(20,"mat-grid-tile")(21,"mat-form-field")(22,"mat-label"),t._uU(23,"Credit Card"),t.qZA(),t._UZ(24,"input",19,20),t.TgZ(26,"mat-icon",21),t._UZ(27,"i",22),t.qZA(),t.YNc(28,z,2,0,"mat-error",1),t.YNc(29,H,2,0,"mat-error",1),t.YNc(30,j,2,0,"mat-error",1),t.YNc(31,w,2,0,"mat-error",1),t.qZA()()(),t.TgZ(32,"button",23),t._uU(33,"Confirm"),t.qZA()()()}if(2&e){const r=t.oxw();t.xp6(1),t.Q6J("formGroup",r.orderDetails),t.xp6(1),t.Q6J("cols",r.breakpoint),t.xp6(6),t.Q6J("ngIf",null==r.orderDetails.controls.fullName.errors?null:r.orderDetails.controls.fullName.errors.required),t.xp6(1),t.Q6J("ngIf",null==r.orderDetails.controls.fullName.errors?null:r.orderDetails.controls.fullName.errors.pattern),t.xp6(1),t.Q6J("ngIf",null==r.orderDetails.controls.fullName.errors?null:r.orderDetails.controls.fullName.errors.minlength),t.xp6(1),t.Q6J("ngIf",null==r.orderDetails.controls.fullName.errors?null:r.orderDetails.controls.fullName.errors.maxlength),t.xp6(5),t.Q6J("ngIf",null==r.orderDetails.controls.address.errors?null:r.orderDetails.controls.address.errors.required),t.xp6(1),t.Q6J("ngIf",null==r.orderDetails.controls.address.errors?null:r.orderDetails.controls.address.errors.pattern),t.xp6(1),t.Q6J("ngIf",null==r.orderDetails.controls.address.errors?null:r.orderDetails.controls.address.errors.minlength),t.xp6(1),t.Q6J("ngIf",null==r.orderDetails.controls.address.errors?null:r.orderDetails.controls.address.errors.maxlength),t.xp6(9),t.Q6J("ngIf",null==r.orderDetails.controls.creditCard.errors?null:r.orderDetails.controls.creditCard.errors.required),t.xp6(1),t.Q6J("ngIf",null==r.orderDetails.controls.creditCard.errors?null:r.orderDetails.controls.creditCard.errors.pattern),t.xp6(1),t.Q6J("ngIf",null==r.orderDetails.controls.creditCard.errors?null:r.orderDetails.controls.creditCard.errors.maxlength),t.xp6(1),t.Q6J("ngIf",null==r.orderDetails.controls.creditCard.errors?null:r.orderDetails.controls.creditCard.errors.minlength),t.xp6(1),t.Q6J("disabled",r.orderDetails.invalid)}}const G=[{path:"",component:(()=>{class e{constructor(r,n,s,d){this.Cart=r,this.api=n,this.fb=s,this.router=d,this.order=[],this.products=[],this.totalItems=0,this.totalPrice=0,this.seachTerm="",this.contact={}}ngOnInit(){this.order=this.Cart.getAllOrder(),this.products=this.Cart.getAllProducts(),this.totalItems=this.Cart.getTotalitems(),this.totalPrice=this.Cart.getTotalPrice(),0!==this.order.length&&(this.orderDetails=this.fb.group({fullName:[this.contact.fullName,a.kI.compose([a.kI.required,a.kI.pattern("^[a-zA-Z ]*$"),a.kI.minLength(5),a.kI.maxLength(50)])],address:[this.contact.address,a.kI.compose([a.kI.required,a.kI.pattern("^[a-zA-Z ]*$"),a.kI.minLength(20),a.kI.maxLength(70)])],creditCard:[this.contact.creditCard,a.kI.compose([a.kI.required,a.kI.pattern("^[0-9]*$"),a.kI.maxLength(14),a.kI.minLength(14)])]}))}modifyProduct(){this.totalPrice=this.Cart.getTotalPrice(),this.totalItems=this.Cart.getTotalitems()}removeProduct(r){this.order=this.order.filter(n=>n.P.name!==r.name),this.totalPrice=this.Cart.getTotalPrice(),this.totalItems=this.Cart.getTotalitems()}onSubmit(){const r=Object.assign({},this.orderDetails.value);this.Cart.reset(),this.router.navigateByUrl("cart/confirm",{state:{fullName:r.fullName,price:this.Cart.getTotalPrice()}})}onResize(r){this.breakpoint=r.target.innerWidth<=608?1:r.target.innerWidth<=907?2:3}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(C.N),t.Y36(v.s),t.Y36(a.qu),t.Y36(m.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-cart-list"]],decls:13,vars:7,consts:[["color","primary","mat-raised-button","","routerLink","/products"],[4,"ngIf"],["class","loader-container",4,"ngIf"],["layout","row","layout-align","center center"],["class","content",4,"ngIf"],[1,"loader-container"],["mode","indeterminate"],[1,"content"],["fxLayout","raw wrap","fxLayoutGap","16px grid"],["fxFlex","25%","fxFlex.xs","100%","fxFlex.sm","50%","fxFlex.md","33%",4,"ngFor","ngForOf"],["fxFlex","25%","fxFlex.xs","100%","fxFlex.sm","50%","fxFlex.md","33%"],[3,"product","orderedQuantity","modifyProductEvent","removeProductEvent"],[3,"formGroup","ngSubmit"],["rowHeight","85px",3,"cols","resize"],["gridList",""],["matInput","","placeholder","Full Name","type","text","formControlName","fullName"],["fullName",""],["matInput","","placeholder","Address","type","text","formControlName","address"],["address",""],["matInput","","formControlName","creditCard","placeholder","14 digits","required",""],["creditCard",""],["matSuffix",""],["aria-hidden","true",1,"fa","fa-credit-card"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(r,n){1&r&&(t.TgZ(0,"section")(1,"button",0),t._uU(2,"Products"),t.qZA()(),t._UZ(3,"mat-divider"),t.YNc(4,Q,2,2,"p",1),t._UZ(5,"mat-divider"),t.YNc(6,U,3,0,"div",1),t.YNc(7,J,2,0,"div",2),t.ALo(8,"async"),t.TgZ(9,"div",3),t._UZ(10,"div"),t.qZA(),t.YNc(11,Y,3,1,"div",4),t.YNc(12,B,34,15,"div",1)),2&r&&(t.xp6(4),t.Q6J("ngIf",0!==n.order.length),t.xp6(2),t.Q6J("ngIf",0===n.order.length),t.xp6(1),t.Q6J("ngIf",t.lcZ(8,5,n.api.isLoading)),t.xp6(4),t.Q6J("ngIf",0!==n.order.length),t.xp6(1),t.Q6J("ngIf",0!==n.order.length))},dependencies:[l.sg,l.O5,m.rH,f.lW,x.Hw,h.d,p.TO,p.KE,p.hX,p.R9,Z.Nt,_.Il,_.DX,T.pW,u.xw,u.SQ,u.yH,a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.sg,a.u,L,l.Ov]}),e})()},{path:"confirm",component:(()=>{class e{constructor(r){this.location=r,this.fullName=""}ngOnInit(){const r=Object(this.location.getState());this.fullName=r.fullName,this.price=r.price}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(l.Ye))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-order-confirm"]],decls:12,vars:2,consts:[[1,"content"],["fxLayout","row","fxLayoutAlign","space-around center","color","primary","mat-raised-button","","routerLink","/products"]],template:function(r,n){1&r&&(t.TgZ(0,"div",0)(1,"h3"),t._uU(2,"Success"),t.qZA(),t.TgZ(3,"h5"),t._uU(4),t.qZA(),t.TgZ(5,"h5"),t._uU(6),t.qZA(),t.TgZ(7,"h5"),t._uU(8,"Please Allow 1 to 3 days for shipping"),t.qZA(),t._UZ(9,"mat-divider"),t.TgZ(10,"button",1),t._uU(11,"Back to Products"),t.qZA()()),2&r&&(t.xp6(4),t.hij("Thank you, ",n.fullName,""),t.xp6(2),t.hij("Your ",n.price,"$ order is confirmed"))},dependencies:[m.rH,f.lW,h.d,u.xw,u.Wh],styles:[".content[_ngcontent-%COMP%]{width:250px;height:100px;margin:0 auto}"]}),e})()}];let $=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[m.Bz.forChild(G),m.Bz]}),e})();var R=i(4077),W=i(7538);let K=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[l.ez,$,R.h,a.u5,a.UX,W.m]}),e})()}}]);